:root { --red:#c40000; --bg:#f6f7f9; --ink:#111; }
*{ box-sizing:border-box }
body{ font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin:0; background:var(--bg); color:var(--ink); }
.top{ position:sticky; top:0; z-index:5; background:#fff; border-bottom:1px solid #e6e6e6; padding:10px 14px; display:flex; align-items:center; justify-content:space-between; }
.top h1{ margin:0; color:var(--red); font-size:20px; }
.actions button{ margin-left:6px }

.tabs{ display:flex; gap:8px; padding:10px 14px; background:#fff; border-bottom:1px solid #eee; position:sticky; top:56px; z-index:4 }
.tabs button{ padding:8px 12px; border:1px solid #ddd; background:#fff; border-radius:8px; }
.tabs button.active{ border-color:#bbb; border-bottom:3px solid var(--red); font-weight:700 }

main{ max-width:1000px; margin:18px auto; padding:0 14px }
.card{ background:#fff; border-radius:12px; box-shadow:0 2px 10px rgba(0,0,0,.06); padding:14px; margin-bottom:16px }
.hidden{ display:none }
.row{ display:flex; gap:8px; flex-wrap:wrap; }

button{ padding:9px 12px; border:0; border-radius:8px; background:var(--red); color:#fff; font-weight:700; cursor:pointer }
button.secondary{ background:#eceef3; color:#222; border:1px solid #d8dbe2 }
button.danger{ background:#c62828 }
input, select{ padding:9px 10px; border:1px solid #d8dbe2; border-radius:8px; background:#fafbfc }

.summary{ display:flex; flex-wrap:wrap; gap:12px; align-items:center; }
.summary .pill{ background:#eceef3; padding:8px 12px; border-radius:999px; font-weight:700; }
.summary .ok{ color:#0a7a1f } .summary .bad{ color:#b00020 }

.envelopes{ display:grid; grid-template-columns: repeat(auto-fill, minmax(260px,1fr)); gap:12px }
.env{ border:1px solid #eee; border-radius:12px; padding:12px }
.env h3{ margin:0 0 6px 0; display:flex; justify-content:space-between; align-items:center }
.env .bar{ height:10px; border-radius:999px; background:#eee; overflow:hidden }
.env .bar > span{ display:block; height:100%; background:linear-gradient(90deg, #ff8a80, #66bb6a); }

.txform{ display:grid; grid-template-columns: repeat(auto-fit, minmax(150px,1fr)); gap:8px; margin-bottom:10px }
.txlist .tx{ display:grid; grid-template-columns: 110px 1fr 120px 120px; gap:8px; padding:8px; border-bottom:1px solid #eee }
.txlist .tx .amt.expense{ color:#b00020; font-weight:700 }
.txlist .tx .amt.income{ color:#0a7a1f; font-weight:700 }

.muted{ color:#666; font-size:13px }

#fab{ position:fixed; right:18px; bottom:18px; width:56px; height:56px; border-radius:50%; font-size:26px; display:grid; place-items:center; box-shadow:0 6px 18px rgba(0,0,0,.2) }
